<!DOCTYPE html>
<html>
<head>
    <title>MilestoneBurnupChart</title>

    <script type="text/javascript" src="/apps/2.0/sdk.js"></script>

    <script type="text/javascript">
        Rally.onReady(function () {
                Ext.define("CustomApp",{extend:"Rally.app.App",componentCls:"app",launch:function(){this._createMilestoneWaspiDataStore()},_createMilestoneWaspiDataStore:function(){Ext.getBody().mask("Loading..."),milestoneWaspiDataStore=Ext.create("Rally.data.wsapi.Store",{model:"Milestone",autoLoad:!0,context:{project:Rally.environment.getContext().getProject(),projectScopeUp:!1,projectScopeDown:!0},fetch:["Name","TargetDate","TargetProject"],limit:1/0,listeners:{load:function(store,data,success){console.log("Data : ",data),this._createMilestoneDataStore(data)},scope:this},sorters:[{property:"Name",direction:"ASC"}]})},_createMilestoneDataStore:function(myData){var milestoneArr=[];Ext.each(myData,function(data,index){var milestone={};milestone.Name=data.data.Name,milestone.TargetDate=data.data.TargetDate,milestone.TargetProject=data.data.TargetProject,milestoneArr.push(milestone)}),console.log("milestoneArr : ",milestoneArr),this.milestoneDataStore=Ext.create("Ext.data.Store",{fields:["Name","TargetDate","TargetProject"],data:milestoneArr}),this._createMilestonePicker()},_createMilestonePicker:function(){this.milestonePicker=Ext.create("Ext.form.ComboBox",{fieldLabel:"Milestone : ",store:this.milestoneDataStore,renderTo:Ext.getBody(),displayField:"Name",queryMode:"local",valueField:"Name",border:1,style:{borderColor:"#000000",borderStyle:"solid",borderWidth:"1px"},width:400,padding:"10 5 5 10",margin:"10 5 5 10"}),this.add(this.milestonePicker),Ext.getBody().unmask()}});

            Rally.launchApp('CustomApp', {
                name:"MilestoneBurnupChart",
	            parentRepos:""
            });

        });
    </script>


    <style type="text/css">
        
    </style>
</head>
<body>
</body>
</html>
